import requests
import json

# Make your first API call to get a random cat fact
def get_cat_fact():
    url = "https://catfact.ninja/fact"
    for i in range(5):
        try:
            # Send GET request to the API
            response = requests.get(url)
            
            # Check if request was successful
            if response.status_code == 200:
                # Parse JSON response
                data = response.json()
                return data['fact']
            else:
                print(f"Error: {response.status_code}")
                return None
        
        except Exception as e:
            print(f"An error occurred: {e}")
            return None

def get_cat_facts(n=5):
    """Fetch multiple cat facts."""
    facts = []
    for _ in range(n):
        fact = get_cat_fact()
        if fact:
            facts.append(fact)
    return facts

def save_to_json(facts, filename="cat_facts.json"):
    """Save facts to a JSON file."""
    try:
        with open(filename, "w", encoding="utf-8") as f:
            json.dump(facts, f, indent=4)
        print(f"Saved {len(facts)} facts to {filename}")
    except Exception as e:
        print(f"Error saving file: {e}")

#if __name__ == "__main__":
    facts = get_cat_facts(5)
    for f in facts:
        print("-", f)
    save_to_json(facts)

cat_fact = get_cat_fact()
print(f"Cat fact: {cat_fact}")
cat_fact2 = get_cat_facts()
print(f"Cat fact2: {cat_fact2}")
